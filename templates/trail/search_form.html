{% extends "base.html" %}

{% block head %}
<link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/place-search-js/v1.0.0/place-search.css" />
{% endblock %}

{% block title %}Search Trail{% endblock %}

{% block content %}
<div class="search-bg">
    <div id="trail-form" class="container py-4 px-5">
        <h1 class="text-center display-2">Find Your Trail</h1>

        <form id="search-trail-form" class="form-group">
            <div class="row">
                {{ form.hidden_tag() }}

                {% for field in form
               if field.widget.input_type != 'hidden' %}
                {% if field.id == 'place_search' %}
                <div class="col">
                    <p>
                        {{ field.label(for="place-search-input", class="text-align-left")}}
                        <a id="search-help" tabindex="0" role="button" display="hidden" data-toggle="popover"
                            data-trigger="focus" title="Find Your Chosen Trail" data-placement="right"
                            data-content="There are thousands of trails in the US. For the best chance of finding your trail, enter the name of the park and we'll go from there. Zip Code works well too.">
                            <i class="far fa-question-circle"></i>
                        </a>
                        {{ field(id="place-search-input", class_='form-control', placeholder="Park Name, City, Zip Code") }}
                        {% for error in field.errors %}
                        <span class="form-text text-danger">{{ error }}</span>
                        {% endfor %}
                    </p>
                </div>

                {% else %}
                <div class="col">
                    <p>
                        {{ field.label }}
                        {{ field(class_='form-control') }}
                        {% for error in field.errors %}
                        <span class="form-text text-danger">{{ error }}</span>
                        {% endfor %}
                    </p>
                </div>
                {% endif %}
                {% endfor %}
            </div>
            <button class="btn btn-block btn-lg btn-success mt-2" type="submit">Search</button>
        </form>
    </div>
    <div id="loading" class="text-center mt-2"></div>
</div>

<!-- This should be changed -->
<div class="spacer"></div>

<div id="results-container" class="container hidden">
    <h1 class="display-2">Results</h1>
    <small id="results-number" class="ml-1"></small>

    <div id="search-results" class="list-group">

    </div>
</div>



{% endblock %}